import{c as m,u as v,b as h,d as g,Q as c,e as p,j as r,M as x,s as n}from"./index-BrIY1wjM.js";import{u as y}from"./useQuery-CbMM-AXE.js";import{S as b}from"./screen-B77F_OFO.js";import"./useBaseQuery-BM-W7Nb7.js";/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],S=m("check",j);function C(){const{activeDeviceId:i,refetch:a}=v(h(e=>{var t;return{activeDeviceId:(t=e.device)==null?void 0:t.id,refetch:e.refetch}})),o=g(),{data:s,isLoading:d}=y({queryKey:[c.device.LIST],queryFn:()=>n.player.getAvailableDevices()}),{mutate:l,isPending:u}=p({mutationFn:e=>i===e?Promise.resolve():n.player.transferPlayback([e],!1),onSettled:()=>{o.invalidateQueries({queryKey:[c.device.LIST]}),setTimeout(a,500)}});return r.jsxs(b,{loading:d,children:[s&&s.devices.length===0&&r.jsxs("div",{className:"flex size-full flex-col items-center justify-center gap-4",children:[r.jsx("p",{className:"text-fg",children:"No active devices found"}),r.jsx("button",{className:"rounded-md border-[0.125rem] border-fg p-1.5 text-sm text-fg transition-colors hover:cursor-pointer hover:bg-fg hover:text-bg",children:"Create new device"})]}),s&&s.devices.length>0&&s.devices.map(e=>{const{id:t,name:f}=e;if(t)return r.jsx(x,{icon:i===t?S:!1,onClick:()=>{u||l(t)},children:f},t)})]})}export{C as default};
