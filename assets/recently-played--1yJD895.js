import{j as n,s as c}from"./index-imO6woYS.js";import{u}from"./useQuery-D2_xpSTs.js";import{S as y}from"./screen-2y3jfp9n.js";import{T as f}from"./track-item-gHnpv9d0.js";import{u as d}from"./usePlaySong-BbvMIAam.js";import"./useBaseQuery-D1e4Bdux.js";import"./context-menu-BelAyu_G.js";import"./smart-marquee-LOrJ8dpx.js";import"./use-saved-playlists-C0r88ROt.js";import"./useInfiniteQuery-DE3jwMt2.js";function q(){const m=d(),{data:o,isLoading:i}=u({queryKey:["recently_played"],queryFn:()=>c.player.getRecentlyPlayedTracks(50,{type:"before",timestamp:Date.now()})}),a=o?o.items:[],p=(t,e)=>{const s=a.slice(Math.max(e-5,0),e+5).map(r=>r.track.uri),l=s.findIndex(r=>t.uri===r);m({uris:s,offset:l})};return n.jsx(y,{loading:i,children:a.map(({track:t},e)=>n.jsx(f,{trackNumber:e+1,track:t,onClick:()=>p(t,e)},e))})}export{q as default};
