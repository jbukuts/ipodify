import{j as n,s as c}from"./index-CC42YDAp.js";import{u}from"./useQuery-BOmUSlsH.js";import{S as y}from"./screen--W04AKYv.js";import{T as f}from"./track-item-CwQJ09AR.js";import{u as d}from"./usePlaySong-C_O1xhlO.js";import"./useBaseQuery-CpfOvB-x.js";import"./context-menu-Dz9cmCnd.js";import"./smart-marquee-_rIHBaKJ.js";import"./use-saved-playlists-D6uLeboa.js";import"./useInfiniteQuery-Cc7SxQQW.js";function q(){const m=d(),{data:o,isLoading:i}=u({queryKey:["recently_played"],queryFn:()=>c.player.getRecentlyPlayedTracks(50,{type:"before",timestamp:Date.now()})}),a=o?o.items:[],p=(t,e)=>{const s=a.slice(Math.max(e-5,0),e+5).map(r=>r.track.uri),l=s.findIndex(r=>t.uri===r);m({uris:s,offset:l})};return n.jsx(y,{loading:i,children:a.map(({track:t},e)=>n.jsx(f,{trackNumber:e+1,track:t,onClick:()=>p(t,e)},e))})}export{q as default};
