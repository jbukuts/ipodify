import{Q as l,r as c,s as p,j as m}from"./index-DXhZx8HB.js";import{B as d}from"./better-virtual-screen-BmNoMXS6.js";import{T as g}from"./track-item-BueDh6Lb.js";import{u as S}from"./usePlaySong-5KHXpWhc.js";import{u as T}from"./useInfiniteQuery-B6GuiEwm.js";import"./context-menu-BwlKXlD5.js";import"./smart-marquee-D7xVAogL.js";import"./use-saved-playlists-BRJEmNG9.js";import"./useQuery-BoCq9VOO.js";import"./useBaseQuery-CskmOSFc.js";function x(){const{data:r,...t}=T({queryKey:[l.track.SAVED_LIST],initialPageParam:0,queryFn:({pageParam:a})=>p.currentUser.tracks.savedTracks(50,a),getNextPageParam:a=>a.next?a.offset+50:void 0});return{tracks:c.useMemo(()=>r?r.pages.flatMap(a=>a.items):[],[r]),...t}}function y(){const r=S(),{tracks:t,hasNextPage:n,isLoading:a,fetchNextPage:u}=x(),k=c.useCallback((e,s)=>{const i=t.slice(Math.max(s-10,0),s+10).map(o=>o.track.uri),f=i.findIndex(o=>e.uri===o);r({uris:i,offset:f})},[t,r]);return m.jsx(d,{hasNextPage:n,loading:a,loaded:t.length,fetchNextPage:u,children:({index:e,style:s})=>m.jsx(g,{isLiked:!0,onClick:()=>k(t[e].track,e),track:t[e].track,trackNumber:e+1,style:s})})}const b=c.memo(y);export{b as default};
