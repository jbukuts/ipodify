import{r as m,j as n,Q as p,s as l}from"./index-BrIY1wjM.js";import{u as d}from"./useInfiniteQuery-B3cygYC7.js";import{B as g}from"./better-virtual-screen-HhAGfYQ4.js";import{T as S}from"./track-item-Dy-h_lP7.js";import{u as x}from"./usePlaySong-C0_KbYFq.js";import"./useBaseQuery-BM-W7Nb7.js";import"./screen-B77F_OFO.js";import"./context-menu-NTk8TyTC.js";import"./smart-marquee-BEhkT9_T.js";import"./use-saved-playlists-D_D06GFb.js";import"./useQuery-CbMM-AXE.js";function T(){const{data:a,...r}=d({queryKey:[p.track.SAVED_LIST],initialPageParam:0,queryFn:({pageParam:t})=>l.currentUser.tracks.savedTracks(50,t),getNextPageParam:t=>t.next?t.offset+50:void 0});return{tracks:m.useMemo(()=>a?a.pages.flatMap(t=>t.items):[],[a]),...r}}function b(){const a=x(),{tracks:r,hasNextPage:c,isLoading:t,fetchNextPage:u}=T(),k=m.useCallback((e,s)=>{const i=r.slice(Math.max(s-10,0),s+10).map(o=>o.track.uri),f=i.findIndex(o=>e.uri===o);a({uris:i,offset:f})},[r,a]);return n.jsx(g,{hasNextPage:c,loading:t,loaded:r.length,fetchNextPage:u,children:({index:e,style:s})=>n.jsx(S,{isLiked:!0,onClick:()=>k(r[e].track,e),track:r[e].track,trackNumber:e+1,style:s})})}export{b as default};
