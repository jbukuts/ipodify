import{Q as f,r as c,s as p,j as m}from"./index-DfWu0XcN.js";import{B as d}from"./better-virtual-screen-mtlyGHmd.js";import{u as g,T as S}from"./usePlaySong-CnFkfI_C.js";import{u as T}from"./useInfiniteQuery-B8I5qTvi.js";import"./context-menu-C80MbDdp.js";import"./smart-marquee-BcDRQkC3.js";import"./use-saved-playlists-C1eySg40.js";import"./useQuery-Cj0VkjqC.js";import"./useBaseQuery-DOTW683a.js";function x(){const{data:r,...t}=T({queryKey:[f.track.SAVED_LIST],initialPageParam:0,queryFn:({pageParam:a})=>p.currentUser.tracks.savedTracks(50,a),getNextPageParam:a=>a.next?a.offset+50:void 0});return{tracks:c.useMemo(()=>r?r.pages.flatMap(a=>a.items):[],[r]),...t}}function y(){const r=g(),{tracks:t,hasNextPage:n,isLoading:a,fetchNextPage:u}=x(),k=c.useCallback((e,s)=>{const i=t.slice(Math.max(s-10,0),s+10).map(o=>o.track.uri),l=i.findIndex(o=>e.uri===o);r({uris:i,offset:l})},[t,r]);return m.jsx(d,{hasNextPage:n,loading:a,loaded:t.length,fetchNextPage:u,children:({index:e,style:s})=>m.jsx(S,{isLiked:!0,onClick:()=>k(t[e].track,e),track:t[e].track,trackNumber:e+1,style:s})})}const Q=c.memo(y);export{Q as default};
