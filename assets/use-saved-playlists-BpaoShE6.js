import{Q as r,r as u,s as i}from"./index-qUlulFFh.js";import{u as f}from"./useQuery-Blt7hPLh.js";import{u as y}from"./useInfiniteQuery-BkRj7D9R.js";function P(n){const{enabled:l=!1,ownerOnly:t=!1}=n,{data:s}=f({queryKey:[r.user.PROFILE,"me"],queryFn:()=>i.currentUser.profile(),staleTime:1/0,enabled:t}),{data:a,isLoading:o}=y({queryKey:[r.playlist.SAVED_LIST],queryFn:async({pageParam:e})=>i.currentUser.playlists.playlists(50,e),getNextPageParam:e=>e.next?e.offset+50:void 0,initialPageParam:0,enabled:l&&(!t||s!==void 0)});return{playlists:u.useMemo(()=>t?((a==null?void 0:a.pages.flatMap(e=>e.items))??[]).filter(e=>e.owner.id===(s==null?void 0:s.id)||e.collaborative):(a==null?void 0:a.pages.flatMap(e=>e.items))??[],[a,s,t]),isLoading:o}}export{P as u};
