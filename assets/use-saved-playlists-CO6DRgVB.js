import{r as o,s as r}from"./index-BYKxCBU6.js";import{u}from"./useQuery-BQgvE_25.js";import{u as f}from"./useInfiniteQuery-FzzryE4t.js";function p(i){const{enabled:n=!1,ownerOnly:s=!1}=i,{data:t}=u({queryKey:["profile"],queryFn:()=>r.currentUser.profile(),staleTime:1/0,enabled:s}),{data:a,...l}=f({queryKey:["saved_playlists"],queryFn:async({pageParam:e})=>r.currentUser.playlists.playlists(50,e),getNextPageParam:e=>e.next?e.offset+50:void 0,initialPageParam:0,enabled:n&&(!s||t!==void 0)});return{playlists:o.useMemo(()=>s?((a==null?void 0:a.pages.flatMap(e=>e.items))??[]).filter(e=>e.owner.id===(t==null?void 0:t.id)||e.collaborative):(a==null?void 0:a.pages.flatMap(e=>e.items))??[],[a,t,s]),...l}}export{p as u};
