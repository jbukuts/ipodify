import{Q as i}from"./query-enum-CKM-M8gy.js";import{s as n,r as l}from"./index-DVXwI_y8.js";import{u as f}from"./useInfiniteQuery-CRXj1fr8.js";import{u as y}from"./useQuery-CcmjiuQ2.js";function m(){return y({queryKey:[i.user.PROFILE,"me"],queryFn:()=>n.currentUser.profile(),staleTime:1/0})}function g(t){const{enabled:o=!1,ownerOnly:a=!1}=t,{data:s}=m(),{data:r,isLoading:u}=f({queryKey:[i.playlist.SAVED_LIST],queryFn:async({pageParam:e})=>n.currentUser.playlists.playlists(50,e),getNextPageParam:e=>e.next?e.offset+50:void 0,initialPageParam:0,enabled:o&&(!a||s!==void 0)});return{playlists:l.useMemo(()=>a?((r==null?void 0:r.pages.flatMap(e=>e.items))??[]).filter(e=>e.owner.id===(s==null?void 0:s.id)||e.collaborative):(r==null?void 0:r.pages.flatMap(e=>e.items))??[],[r,s,a]),isLoading:u}}export{g as a,m as u};
