import{Q as r}from"./query-enum-C8IyW12c.js";import{r as u,s as i}from"./index-DA8WP6QR.js";import{u as f}from"./useQuery-CADg64x_.js";import{u as m}from"./useInfiniteQuery-DLlrDmLX.js";function g(n){const{enabled:o=!1,ownerOnly:s=!1}=n,{data:t}=f({queryKey:[r.user.PROFILE,"me"],queryFn:()=>i.currentUser.profile(),staleTime:1/0,enabled:s}),{data:a,isLoading:l}=m({queryKey:[r.playlist.SAVED_LIST],queryFn:async({pageParam:e})=>i.currentUser.playlists.playlists(50,e),getNextPageParam:e=>e.next?e.offset+50:void 0,initialPageParam:0,enabled:o&&(!s||t!==void 0)});return{playlists:u.useMemo(()=>s?((a==null?void 0:a.pages.flatMap(e=>e.items))??[]).filter(e=>e.owner.id===(t==null?void 0:t.id)||e.collaborative):(a==null?void 0:a.pages.flatMap(e=>e.items))??[],[a,t,s]),isLoading:l}}export{g as u};
